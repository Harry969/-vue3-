<!DOCTYPE html><html lang="en" data-critters-container><head><meta charset="UTF-8"><meta name="author" content="Harry"><meta http-equiv="X-UA-Compatible" content="chrome=1"><meta name="revisit-after" content="7 days"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/Harry969.github.io/favicon.svg" type="image/svg+xml"><link rel="icon" href="/Harry969.github.io/favicon.svg" type="image/svg+xml"><meta name="description" content="设置模型朝向角"><meta property="og:title" content="高德地图API使用Threejs加载GLTF模型并设置模型朝向角"><meta property="og:description" content="设置模型朝向角"><meta property="og:url" content="https://mmeme.me"><meta property="og:image" content="https://mmeme.me/og%2F06-%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BEAPI%E4%BD%BF%E7%94%A8Threejs%E5%8A%A0%E8%BD%BDGLTF%E6%A8%A1%E5%9E%8B%E5%B9%B6%E8%AE%BE%E7%BD%AE%E6%A8%A1%E5%9E%8B%E6%9C%9D%E5%90%91%E8%A7%92.png"><meta property="og:image:username" content="Harry"><meta property="og:type" content="website"><meta property="og:locale" content="zh_CN"><link rel="icon" href="/Harry969.github.io/logo.svg"><link rel="apple-touch-icon" href="/Harry969.github.io/apple-touch-icon.png"><link rel="mask-icon" href="/Harry969.github.io/logo.svg" color="#f3f3f3"><meta name="msapplication-TileColor" content="#f3f3f3"><title>高德地图API使用Threejs加载GLTF模型并设置模型朝向角</title><script>!function(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><script type="text/javascript">!function(t,e,n,a,c,r,s){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(a)).async=1,r.src="https://www.clarity.ms/tag/l5lha2hb78",(s=e.getElementsByTagName(a)[0]).parentNode.insertBefore(r,s)}(window,document,"clarity","script")</script><script type="module" async crossorigin src="/Harry969.github.io/app-zVVW9CMR.js"></script><link rel="stylesheet" crossorigin href="/Harry969.github.io/app-ClIDuydC.css"><link rel="manifest" href="/Harry969.github.io/manifest.webmanifest"><link rel="modulepreload" crossorigin href="/Harry969.github.io/default-BVwtdqk9.js"><link rel="stylesheet" href="/Harry969.github.io/default-D_xgwk-u.css"><link rel="modulepreload" crossorigin href="/Harry969.github.io/06-高德地图API使用Threejs加载GLTF模型并设置模型朝向角-BG_M5km3.js"><link rel="modulepreload" crossorigin href="/Harry969.github.io/WrapperPost-Cjf9jtry.js"><link rel="stylesheet" href="/Harry969.github.io/WrapperPost-1N2X-y6y.css"><meta name="twitter:title" content="高德地图API使用Threejs加载GLTF模型并设置模型朝向角"><meta name="twitter:description" content="设置模型朝向角"><meta name="twitter:image" content="https://mmeme.me/og%2F06-%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BEAPI%E4%BD%BF%E7%94%A8Threejs%E5%8A%A0%E8%BD%BDGLTF%E6%A8%A1%E5%9E%8B%E5%B9%B6%E8%AE%BE%E7%BD%AE%E6%A8%A1%E5%9E%8B%E6%9C%9D%E5%90%91%E8%A7%92.png"><meta name="twitter:card" content="summary_large_image"></head><body class="font-sans"><div id="app" data-server-rendered="true"><main id="main-root" class="bg-[var(--bg-main-color)] pt-[100px] pb-20 px-[10px] md:px-5 overflow-x-hidden min-h-screen md:pt-[112px]"><div id="nav-bg" class="fixed left-0 top-0 z-[2] h-fit w-full flex flex-row items-center justify-between px-[3.5vw] py-[18px] md:h-[80px] md:py-unset" style data-v-0216a5e7><img class="mt-[0px] block h-[40px] w-[40px] md:mt-0 md:h-[56px] md:w-[56px]" src="/Harry969.github.io/logo.svg" alt data-v-0216a5e7><!----><div class="grid h-[40px] w-[40px] place-items-center" data-v-0216a5e7><button class="!outline-none" data-v-0216a5e7><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="h-[16px] w-[16px]" style="" width="1em" height="1em" viewBox="0 0 16 16"/></button></div></div><main id="blog-root" style="font-family:LXGW WenKai Screen R" class="relative z-[1] mx-auto max-w-[760px] w-full rounded-[10px] border-unset bg-transparent px-2 pt-[10px] text-start md:border md:border-[var(--blog--border)] md:border-solid md:bg-[var(--blog-bg)] md:p-10 md:px-[36px]" data-v-a158718a><!----><div class="m-auto mb-8 prose" data-v-a158718a><h1 class="slide-enter-50 mb-0" data-v-a158718a>高德地图API使用Threejs加载GLTF模型并设置模型朝向角</h1><p class="slide-enter-50 opacity-50" data-v-a158718a>Jan 8<!----></p><p class="slide-enter-50" style="font-size:80%" data-v-a158718a>设置模型朝向角</p><!----><!----><!----></div><article class data-v-a158718a><!--[--><div class="prose m-auto slide-enter-content"><p></p><div class="table-of-contents"><div class="table-of-contents-anchor hidden"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M3 4h18v2H3zm0 7h12v2H3zm0 7h18v2H3z"/></svg></div><ul><li><a href="#前言">前言</a></li><li><a href="#工具">工具</a></li><li><a href="#实现">实现</a><ul><li><a href="#计算角度">计算角度</a></li><li><a href="#高德地图引入threejs">高德地图引入Threejs</a></li><li><a href="#threejs引入gltf模型">Threejs引入Gltf模型</a></li></ul></li><li><a href="#地址">地址</a></li><li><a href="#附言">附言</a></li></ul></div><p></p><hr><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d9d9e0128f3a4e28b053d3cd9d6baf83~tplv-k3u1fbpfcp-watermark.image?" alt="gd-threejs-angle.gif"></p><h1 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-hidden="true">#</a></h1><p>业务工作中有个需要在高德地图中添加小车模型，并且设置其方向。在高德地图v1.4版本，有暴露出一个类 <a href="https://lbs.amap.com/demo/javascript-api/example/object3d-base/add-remove" target="_blank" rel="noopener">Object3D</a>。不过当前项目使用的是高德API v2.0 版本，<a href="https://lbs.amap.com/faq/js-api/map-js-api/cover/1060854982/" target="_blank" rel="noopener">不支持 Object3D</a>，然后<a href="https://lbs.amap.com/faq/js-api/map-js-api/cover/1060848032/" target="_blank" rel="noopener">翻查官网</a>，最终决定使用 Threejs 来实现这个需求。(代码链接在最后)</p><h1 id="工具" tabindex="-1">工具 <a class="header-anchor" href="#工具" aria-hidden="true">#</a></h1><ul><li>🍌 高德地图 v2.0</li><li>🍦 Three.js</li><li>🍉 GLTFLoader.js</li></ul><h1 id="实现" tabindex="-1">实现 <a class="header-anchor" href="#实现" aria-hidden="true">#</a></h1><ul><li>创建高德地图</li><li>高德地图通过 GLCustomLayer 图层 加载 Three.js</li><li>引入 GLTFLoader.js 加载模型</li><li>模型添加到图层上显示</li><li>根据三角函数计算出两点的角度</li><li>设置模型的角度</li></ul><h2 id="计算角度" tabindex="-1">计算角度 <a class="header-anchor" href="#计算角度" aria-hidden="true">#</a></h2><blockquote><p>根据三角函数计算角度，无论是否高德地图，思想是通用的。</p></blockquote><pre class="shiki shiki-themes github-dark catppuccin-latte" style="--s-dark:#e1e4e8;--s-light:#4c4f69;--s-dark-bg:#24292e;--s-light-bg:#eff1f5" tabindex="0"><code class="language-js"><span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">function</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> calculateAngle</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">(</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic">start</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic"> end</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">)</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> distanceX</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> end[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> start[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> distanceY</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> end[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> start[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> baseAngle</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">atan2</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(distanceY</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> distanceX)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  return</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> baseAngle</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span></code></pre><p>因为我们要求的是两点的方向夹角，很自然的想到了根据坐标系，一点为坐标系原点，另一点在当前坐标系，然后根据<code>(x,y)</code>算出角度。于是就使用到了<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Math/atan2" target="_blank" rel="noopener">Math.atan2()</a>这个方法。</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/295d8cb153c24634aa3a2e50abf41206~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>在使用 <code>Math.atan2(s)</code>之前，其实是想使用反正切函数<code>Math.atan(s)</code>，<code>s = y / x</code>，不过其周期范围<code>[π/2,π/2]</code>,是在-90度到90度，即180度。那么两个相差180度的角会有相同的正切和斜率，无法根据值进行象限判断，还需通过计算x和y的差值正负判断。</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bf0acc3e803b40c8be4e88a54cfbb477~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><pre class="shiki shiki-themes github-dark catppuccin-latte" style="--s-dark:#e1e4e8;--s-light:#4c4f69;--s-dark-bg:#24292e;--s-light-bg:#eff1f5" tabindex="0"><code class="language-js"><span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">atan</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#F97583;--s-light:#179299"> /</span><span style="--s-dark:#F97583;--s-light:#179299"> -</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">) </span><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">// 第二象限 135度 : -0.7853981633974483</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">atan</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#F97583;--s-light:#179299"> /</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">) </span><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">// 第四象限 315度（-45度） : -0.7853981633974483</span></span></code></pre><p><strong><code>Math.atan2()</code></strong> 返回从原点 (0,0) 到 (x,y) 点的线段与 x 轴正方向之间的平面角度 (弧度值)。这是一个逆时针角度，单位是弧度。</p><pre class="shiki shiki-themes github-dark catppuccin-latte" style="--s-dark:#e1e4e8;--s-light:#4c4f69;--s-dark-bg:#24292e;--s-light-bg:#eff1f5" tabindex="0"><code class="language-js"><span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> angle</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">atan2</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(y</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> x)</span></span></code></pre><p>其范围是<code>[-π，π]</code>，即-180度到180度，周期范围是360度，能够直接根据值判断其象限。弧度制转角度制，因为由公理:360度 = 2π，可得出转化公式：角度 = 弧度 * 180 / Math.Pi</p><pre class="shiki shiki-themes github-dark catppuccin-latte" style="--s-dark:#e1e4e8;--s-light:#4c4f69;--s-dark-bg:#24292e;--s-light-bg:#eff1f5" tabindex="0"><code class="language-js"><span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">atan2</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">) </span><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">// 第一象限 45  度   : 0.7853981633974483</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">atan2</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#F97583;--s-light:#179299"> -</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">) </span><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">// 第二象限 135 度   : 2.356194490192345</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">atan2</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#F97583;--s-light:#179299"> -</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">) </span><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">// 第三象限 -135度   : -2.356194490192345</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">atan2</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">) </span><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">// 第四象限 -45 度   : -0.7853981633974483</span></span></code></pre><h2 id="高德地图引入threejs" tabindex="-1">高德地图引入Threejs <a class="header-anchor" href="#高德地图引入threejs" aria-hidden="true">#</a></h2><p>高德地图v2.0提供了一个类<a href="https://lbs.amap.com/demo/jsapi-v2/example/selflayer/glcustom-layer" target="_blank" rel="noopener">GLCustomLayer</a>，可通过这个自定义WebGL图层加载Threejs。</p><pre class="shiki shiki-themes github-dark catppuccin-latte" style="--s-dark:#e1e4e8;--s-light:#4c4f69;--s-dark-bg:#24292e;--s-light-bg:#eff1f5" tabindex="0"><code class="language-js"><span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">import</span><span style="--s-dark:#79B8FF;--s-light:#D20F39"> *</span><span style="--s-dark:#F97583;--s-light:#8839EF"> as</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> THREE </span><span style="--s-dark:#F97583;--s-light:#8839EF">from</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B"> './three.js/build/three.module.js'</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">let</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> camera</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> renderer</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> scene</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> gllayer</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#F97583;--s-dark-font-weight:inherit;--s-light:#8839EF;--s-light-font-weight:bold"> new</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> AMap</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">GLCustomLayer</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">{</span></span>
<span class="line"><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">  // 图层的层级</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  zIndex</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 10</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span></span>
<span class="line"><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">  // 初始化的操作，创建图层过程中执行一次。</span></span>
<span class="line"><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">  init</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> (</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic">gl</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">)</span><span style="--s-dark:#F97583;--s-light:#8839EF"> =&gt;</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    camera </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#F97583;--s-dark-font-weight:inherit;--s-light:#8839EF;--s-light-font-weight:bold"> new</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> THREE</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">PerspectiveCamera</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">60</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> window</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">innerWidth </span><span style="--s-dark:#F97583;--s-light:#179299">/</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> window</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">innerHeight</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 100</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 1</span><span style="--s-dark:#F97583;--s-light:#179299"> &lt;&lt;</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 30</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    renderer </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#F97583;--s-dark-font-weight:inherit;--s-light:#8839EF;--s-light-font-weight:bold"> new</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> THREE</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">WebGLRenderer</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">{</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">      context</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> gl</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic"> // 地图的 gl 上下文</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">    }</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">    // 自动清空画布这里必须设置为 false，否则地图底图将无法显示</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    renderer</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">autoClear </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> false</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    scene </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#F97583;--s-dark-font-weight:inherit;--s-light:#8839EF;--s-light-font-weight:bold"> new</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> THREE</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">Scene</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">()</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">    // 添加的一个几何体</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">    const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> mat</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#F97583;--s-dark-font-weight:inherit;--s-light:#8839EF;--s-light-font-weight:bold"> new</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> THREE</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">MeshLambertMaterial</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">{</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">      side</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> THREE</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">DoubleSide</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">      color</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 0x1E2F97</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">      transparent</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> true</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">      opacity</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 0.4</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">      depthWrite</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> false</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">    }</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">    const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> geo</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#F97583;--s-dark-font-weight:inherit;--s-light:#8839EF;--s-light-font-weight:bold"> new</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> THREE</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">BoxBufferGeometry</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">500</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 500</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 500</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">    const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> mesh</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#F97583;--s-dark-font-weight:inherit;--s-light:#8839EF;--s-light-font-weight:bold"> new</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> THREE</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">Mesh</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(geo</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> mat)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    mesh</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">position</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">set</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">116.52</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 39.79</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 500</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    scene</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">add</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(mesh)</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">    // 环境光照和平行光</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">    const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> aLight</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#F97583;--s-dark-font-weight:inherit;--s-light:#8839EF;--s-light-font-weight:bold"> new</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> THREE</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">AmbientLight</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0xFFFFFF</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 0.3</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">    const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> dLight</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#F97583;--s-dark-font-weight:inherit;--s-light:#8839EF;--s-light-font-weight:bold"> new</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> THREE</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">DirectionalLight</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0xFFFFFF</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    dLight</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">position</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">set</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1000</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#F97583;--s-light:#179299"> -</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">100</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 900</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    scene</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">add</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(dLight)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    scene</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">add</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(aLight)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">  },</span></span>
<span class="line"><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">  render</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> ()</span><span style="--s-dark:#F97583;--s-light:#8839EF"> =&gt;</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    renderer</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">resetState</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">()</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    customCoords</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">setCenter</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">([</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">116.52</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 39.79</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">])</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">    const</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> near</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> far</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> fov</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> up</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> lookAt</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> position</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> }</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> customCoords</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">getCameraParams</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">()</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    camera</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">near </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> near</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    camera</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">far </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> far</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    camera</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">fov </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> fov</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    camera</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">position</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">set</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#F97583;--s-light:#179299">...</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">position)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    camera</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">up</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">set</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#F97583;--s-light:#179299">...</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">up)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    camera</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">lookAt</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#F97583;--s-light:#179299">...</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">lookAt)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    camera</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">updateProjectionMatrix</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">()</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    renderer</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">render</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(scene</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> camera)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    renderer</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">resetState</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">()</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">  },</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">map</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">add</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(gllayer)</span></span></code></pre><h2 id="threejs引入gltf模型" tabindex="-1">Threejs引入Gltf模型 <a class="header-anchor" href="#threejs引入gltf模型" aria-hidden="true">#</a></h2><pre class="shiki shiki-themes github-dark catppuccin-latte" style="--s-dark:#e1e4e8;--s-light:#4c4f69;--s-dark-bg:#24292e;--s-light-bg:#eff1f5" tabindex="0"><code class="language-js"><span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">import</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> GLTFLoader </span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span><span style="--s-dark:#F97583;--s-light:#8839EF"> from</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B"> './three.js/examples/jsm/loaders/GLTFLoader.js'</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> loader</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#F97583;--s-dark-font-weight:inherit;--s-light:#8839EF;--s-light-font-weight:bold"> new</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> GLTFLoader</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">()</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">loader</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">load</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">'/models/duck/Duck.gltf'</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> (</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic">gltf</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">)</span><span style="--s-dark:#F97583;--s-light:#8839EF"> =&gt;</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  gltf</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">scene</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">position</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">set</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(data[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">][</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> data[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">][</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 500</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  gltf</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">scene</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">scale</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">set</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">800</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 800</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 800</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  gltf</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">scene</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">rotation</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">x </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 0.5</span><span style="--s-dark:#F97583;--s-light:#179299"> *</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">PI</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  gltf</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">scene</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">position</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">z </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 0.8</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  scene</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">add</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(gltf</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">scene)</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  models</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">end </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> gltf</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">scene</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">// 添加小车模型</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">loader</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">load</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">'/models/car/scene.gltf'</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> (</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic">gltf</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">)</span><span style="--s-dark:#F97583;--s-light:#8839EF"> =&gt;</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  gltf</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">scene</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">position</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">set</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(data[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">2</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">][</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> data[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">2</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">][</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#F97583;--s-light:#179299"> -</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">800</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  gltf</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">scene</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">scale</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">set</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">800</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 800</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 800</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  gltf</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">scene</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">rotation</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">x </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 0.5</span><span style="--s-dark:#F97583;--s-light:#179299"> *</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">PI</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  gltf</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">scene</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">rotation</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">y </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> angle</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  scene</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">add</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(gltf</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">scene)</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  models</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">start </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> gltf</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">scene</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span></code></pre><h1 id="地址" tabindex="-1">地址 <a class="header-anchor" href="#地址" aria-hidden="true">#</a></h1><blockquote><p>CodeSandBox体验：<a href="https://codesandbox.io/s/interesting-neco-rh1xiw?file=/index.html" target="_blank" rel="noopener">https://codesandbox.io/s/interesting-neco-rh1xiw?file=/index.html</a> GitHub地址：<a href="https://github.com/pinky-pig/GDMap-Gltf-Direction.git" target="_blank" rel="noopener">https://github.com/pinky-pig/GDMap-Gltf-Direction.git</a></p></blockquote><h1 id="附言" tabindex="-1">附言 <a class="header-anchor" href="#附言" aria-hidden="true">#</a></h1><p>我在本地写完这个demo后，写笔记的时候想在线上预览，于是便想到了codesanbox和codepen。这里使用的是codesanbox，记录一下如何从github导入项目并运行。</p><ul><li>🤡 点击 <code>New Sandbox</code></li><li>🚑 选择 <code>Import Project</code></li><li>🚀 复制 github 仓库地址至 Input 输入框后，点击 <code>Import to Projects</code></li><li>🚠 导入后的项目代码跟别的项目代码界面不太一致，不能直接运行，<a href="https://codesandbox.io/docs/importing#import-from-github" target="_blank" rel="noopener">翻看官网</a></li><li>🚀 在 github仓库地址栏的<code>github.com</code>改为<code>githubbox.com</code>,会自动重定向至sandbox项目</li></ul><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f46f76e7ab88454796ed4c5cd5009ee1~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9c2f7769a8374191a6014816638a6e36~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d2fe3f16e9c54bd9977fee3f8c35567e~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/db345c51320a440383ed6f915153dcd8~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/52d908bb23bc4ab6bb9343a2131aa5ac~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p></div><!--]--></article><div class="slide-enter m-auto mt-8 animate-delay-500 prose print:hidden" data-v-a158718a><div class="mb-[10px] flex flex-col items-center justify-between font-mono op50 md:flex-row hover:op75" data-v-a158718a><div class="flex-1" data-v-a158718a>发布日期: 2024/01/08</div><div class="mt-4 flex-1 text-right md:mt-0" data-v-a158718a><a href="https://github.com/" title="Star" target="_blank" class="hidden lg:inline-block" data-v-a158718a>Github</a></div></div></div><div class="slide-enter m-auto mb-8 animate-delay-500 prose print:hidden" data-v-a158718a><br data-v-a158718a><span font-mono op50 data-v-a158718a>&gt; </span><a href="/Harry969.github.io/blog" class="font-mono op50 hover:op75" data-v-a158718a>cd ..</a><div class="py-4" data-v-a158718a></div><div data-v-a158718a></div></div><div class="top-btn opacity-0" data-v-a158718a data-v-e3571aee><div class="back-to-top-btn" data-v-e3571aee><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" data-v-e3571aee=""><g fill="none" data-v-e3571aee=""><g filter="url(#f2377id0)" data-v-e3571aee=""><path fill="url(#f2377id2)" d="m7.545 10.19l7.57-8.13a.992.992 0 0 1 1.43-.01l7.57 8.13c.56.597.12 1.564-.71 1.564h-3.64c-.35 0-.64.284-.64.626v5.194c0 .645-.53 1.163-1.19 1.163h-4.22c-.65 0-1.19-.518-1.18-1.153v-5.195a.637.637 0 0 0-.64-.625h-3.64c-.83 0-1.27-.958-.71-1.563" data-v-e3571aee=""/></g><g fill="#59555F" filter="url(#f2377id1)" data-v-e3571aee=""><path d="M12.27 20.569H5.83c-.55 0-1 .45-1 1s.45 1 1 1h2.22v6.17c0 .55.45 1 1 1s1-.45 1-1v-6.17h2.22c.55 0 1-.45 1-1c0-.56-.45-1-1-1m9.39.01h2.77c1.51 0 2.74 1.23 2.74 2.74c0 1.51-1.23 2.74-2.74 2.74h-1.77v2.69c0 .55-.45 1-1 1s-1-.45-1-1v-7.17c0-.55.45-1 1-1m1 3.48h1.77c.41 0 .74-.33.74-.74s-.33-.74-.74-.74h-1.77zm-9.39 2.55c0 1.73 1.41 3.14 3.15 3.14c1.73 0 3.15-1.41 3.15-3.14v-2.88c0-1.73-1.41-3.14-3.15-3.14s-3.15 1.41-3.15 3.14zm2-2.88a1.15 1.15 0 0 1 2.3 0v2.88c0 .64-.52 1.15-1.15 1.15c-.63 0-1.15-.52-1.15-1.15z" data-v-e3571aee=""/></g><defs data-v-e3571aee=""><filter id="f2377id0" width="18.571" height="18.976" x="6.794" y=".751" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse" data-v-e3571aee=""><feFlood flood-opacity="0" result="BackgroundImageFix" data-v-e3571aee=""/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx="-.5" dy=".5" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".375" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.505882 0 0 0 0 0.47451 0 0 0 0 0.537255 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="shape" result="effect1_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dy="-1" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".5" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.152941 0 0 0 0 0.12549 0 0 0 0 0.188235 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect1_innerShadow_18590_958" result="effect2_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx="1" dy="-1" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".5" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.152941 0 0 0 0 0.12549 0 0 0 0 0.188235 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect2_innerShadow_18590_958" result="effect3_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx="1" dy="1" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".5" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.239216 0 0 0 0 0.192157 0 0 0 0 0.290196 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect3_innerShadow_18590_958" result="effect4_innerShadow_18590_958" data-v-e3571aee=""/></filter><filter id="f2377id1" width="23.19" height="9.83" x="4.63" y="19.919" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse" data-v-e3571aee=""><feFlood flood-opacity="0" result="BackgroundImageFix" data-v-e3571aee=""/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dy="-.65" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".325" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.176471 0 0 0 0 0.141176 0 0 0 0 0.211765 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="shape" result="effect1_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx=".65" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".325" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.176471 0 0 0 0 0.141176 0 0 0 0 0.211765 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect1_innerShadow_18590_958" result="effect2_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx="-.2" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".25" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.176471 0 0 0 0 0.141176 0 0 0 0 0.211765 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect2_innerShadow_18590_958" result="effect3_innerShadow_18590_958" data-v-e3571aee=""/></filter><linearGradient id="f2377id2" x1="15.83" x2="15.83" y1="5.028" y2="18.727" gradientUnits="userSpaceOnUse" data-v-e3571aee=""><stop stop-color="#61576D" data-v-e3571aee=""/><stop offset="1" stop-color="#4D4753" data-v-e3571aee=""/></linearGradient></defs></g></svg></div><div class="button-glowing" data-v-e3571aee></div></div></main><!----><!----></main></div><script>window.__INITIAL_STATE__='{"pinia":{}}'</script><noscript>This website requires JavaScript to function properly. Please enable JavaScript to continue.</noscript><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></body></html>