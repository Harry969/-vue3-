<!DOCTYPE html><html lang="en" data-critters-container><head><meta charset="UTF-8"><meta name="author" content="Harry"><meta http-equiv="X-UA-Compatible" content="chrome=1"><meta name="revisit-after" content="7 days"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/Harry969.github.io/favicon.svg" type="image/svg+xml"><link rel="icon" href="/Harry969.github.io/favicon.svg" type="image/svg+xml"><meta name="description" content="贝塞尔曲线构造弯曲箭头"><meta property="og:title" content="简单使用贝塞尔曲线构造弯曲箭头"><meta property="og:description" content="贝塞尔曲线构造弯曲箭头"><meta property="og:url" content="https://mmeme.me"><meta property="og:image" content="https://mmeme.me/og%2F08-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%E8%B4%9D%E5%A1%9E%E5%B0%94%E6%9B%B2%E7%BA%BF%E6%9E%84%E9%80%A0%E5%BC%AF%E6%9B%B2%E7%AE%AD%E5%A4%B4.png"><meta property="og:image:username" content="Harry"><meta property="og:type" content="website"><meta property="og:locale" content="zh_CN"><link rel="icon" href="/Harry969.github.io/logo.svg"><link rel="apple-touch-icon" href="/Harry969.github.io/apple-touch-icon.png"><link rel="mask-icon" href="/Harry969.github.io/logo.svg" color="#f3f3f3"><meta name="msapplication-TileColor" content="#f3f3f3"><title>简单使用贝塞尔曲线构造弯曲箭头</title><script>!function(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><script type="text/javascript">!function(t,e,n,a,c,r,s){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(a)).async=1,r.src="https://www.clarity.ms/tag/l5lha2hb78",(s=e.getElementsByTagName(a)[0]).parentNode.insertBefore(r,s)}(window,document,"clarity","script")</script><script type="module" async crossorigin src="/Harry969.github.io/app-B1EYvVvy.js"></script><link rel="stylesheet" crossorigin href="/Harry969.github.io/app-ClIDuydC.css"><link rel="manifest" href="/Harry969.github.io/manifest.webmanifest"><link rel="modulepreload" crossorigin href="/Harry969.github.io/default-CoJUmIHw.js"><link rel="stylesheet" href="/Harry969.github.io/default-D_xgwk-u.css"><link rel="modulepreload" crossorigin href="/Harry969.github.io/08-简单使用贝塞尔曲线构造弯曲箭头-BYEEGiQC.js"><link rel="modulepreload" crossorigin href="/Harry969.github.io/WrapperPost-DKdVlOhM.js"><link rel="stylesheet" href="/Harry969.github.io/WrapperPost-1N2X-y6y.css"><meta name="twitter:title" content="简单使用贝塞尔曲线构造弯曲箭头"><meta name="twitter:description" content="贝塞尔曲线构造弯曲箭头"><meta name="twitter:image" content="https://mmeme.me/og%2F08-%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8%E8%B4%9D%E5%A1%9E%E5%B0%94%E6%9B%B2%E7%BA%BF%E6%9E%84%E9%80%A0%E5%BC%AF%E6%9B%B2%E7%AE%AD%E5%A4%B4.png"><meta name="twitter:card" content="summary_large_image"></head><body class="font-sans"><div id="app" data-server-rendered="true"><main id="main-root" class="bg-[var(--bg-main-color)] pt-[100px] pb-20 px-[10px] md:px-5 overflow-x-hidden min-h-screen md:pt-[112px]"><div id="nav-bg" class="fixed left-0 top-0 z-[2] h-fit w-full flex flex-row items-center justify-between px-[3.5vw] py-[18px] md:h-[80px] md:py-unset" style data-v-0216a5e7><img class="mt-[0px] block h-[40px] w-[40px] md:mt-0 md:h-[56px] md:w-[56px]" src="/Harry969.github.io/logo.svg" alt data-v-0216a5e7><!----><div class="grid h-[40px] w-[40px] place-items-center" data-v-0216a5e7><button class="!outline-none" data-v-0216a5e7><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="h-[16px] w-[16px]" style="" width="1em" height="1em" viewBox="0 0 16 16"/></button></div></div><main id="blog-root" style="font-family:LXGW WenKai Screen R" class="relative z-[1] mx-auto max-w-[760px] w-full rounded-[10px] border-unset bg-transparent px-2 pt-[10px] text-start md:border md:border-[var(--blog--border)] md:border-solid md:bg-[var(--blog-bg)] md:p-10 md:px-[36px]" data-v-a158718a><!----><div class="m-auto mb-8 prose" data-v-a158718a><h1 class="slide-enter-50 mb-0" data-v-a158718a>简单使用贝塞尔曲线构造弯曲箭头</h1><p class="slide-enter-50 opacity-50" data-v-a158718a>Jan 8<!----></p><p class="slide-enter-50" style="font-size:80%" data-v-a158718a>贝塞尔曲线构造弯曲箭头</p><!----><!----><!----></div><article class data-v-a158718a><!--[--><div class="prose m-auto slide-enter-content"><p></p><div class="table-of-contents"><div class="table-of-contents-anchor hidden"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M3 4h18v2H3zm0 7h12v2H3zm0 7h18v2H3z"/></svg></div><ul><li><a href="#前言">前言</a></li><li><a href="#知识点">知识点</a></li><li><a href="#bezier">Bezier</a></li><li><a href="#角度">角度</a></li><li><a href="#旋转">旋转</a></li><li><a href="#构造步骤">构造步骤</a><ul><li><a href="#曲线">曲线</a></li><li><a href="#箭头">箭头</a></li></ul></li><li><a href="#结语">结语</a></li></ul></div><p></p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f25a1e53c2c44fc888e548520225f0e0~tplv-k3u1fbpfcp-watermark.image?" alt="b.gif"></p><h2 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-hidden="true">#</a></h2><p>构造控制点在曲线上的箭头，控制点用来控制箭头弯曲程度。</p><h2 id="知识点" tabindex="-1">知识点 <a class="header-anchor" href="#知识点" aria-hidden="true">#</a></h2><ul><li>Bezier</li><li>平面直角坐标系中，点绕点旋转后的坐标位置</li></ul><p>主要是三个点，一个是利用贝塞尔曲线的<code>C</code>、<code>S</code>构造曲线，一个是计算旋转角度进行旋转，一个是利用<code>S</code>关于<code>C</code>对称生成的控制点和箭头终点的连线作为箭头的中线。</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d5e3d4ea9dcf44da89d8267d2c6b4989~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><h2 id="bezier" tabindex="-1">Bezier <a class="header-anchor" href="#bezier" aria-hidden="true">#</a></h2><p>关于贝塞尔曲线，其实有很多资料，这里主要使用的是CS。 个人简单理解记忆，二次贝塞尔曲线，三点确定曲线，“切图”组合（QT）。 三次贝塞尔曲线，四点确定曲线，“厕所”组合（CS）。</p><table><thead><tr><th style="text-align:center">命令</th><th>全称</th><th>翻译</th><th>代码</th></tr></thead><tbody><tr><td style="text-align:center"><code>C</code></td><td>curveto</td><td>三次贝塞尔曲线到</td><td>(x1 y1, x2 y2, x y) +</td></tr><tr><td style="text-align:center"><code>S</code></td><td>smooth curveto</td><td>光滑三次贝塞尔曲线到</td><td>(x2 y2, x y) +</td></tr></tbody></table><h2 id="角度" tabindex="-1">角度 <a class="header-anchor" href="#角度" aria-hidden="true">#</a></h2><p>这里主要使用<code>Math.atan2()</code>计算。</p><p><code>atan2</code>方法返回一个 -pi 到 pi 之间的数值，表示点 (x, y) 对应的偏移角度。这是一个逆时针角度，以弧度为单位，正 X 轴和点 (x, y) 与原点连线 之间。注意此函数接受的参数：先传递 y 坐标，然后是 x 坐标。 逆时针就是从x轴正方向旋转，先经过y轴正方向，再到x轴负方向，再到y轴负方向，最后到x轴正方向。 因为SVG和Canvas都是左上角为原点，向右为x轴正方向，向下为y轴正方向。正好跟数学中的平面直接坐标系y轴方向相反。所以其逆时针是从右 → 向下 ↓ 到左 ← 到 ↑ 。 通过使用 <code>Math.atan2()</code> 得出其旋转角。</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/961adc607ec94eafb7243c0f9e62f67e~tplv-k3u1fbpfcp-watermark.image?" alt="angle.gif"></p><pre class="shiki shiki-themes github-dark catppuccin-latte" style="--s-dark:#e1e4e8;--s-light:#4c4f69;--s-dark-bg:#24292e;--s-light-bg:#eff1f5" tabindex="0"><code class="language-ts"><span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">function</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> calAngleControlAndEnd</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">(</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic">start</span><span style="--s-dark:#F97583;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#8839EF"> any</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic"> end</span><span style="--s-dark:#F97583;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#8839EF"> any</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">)</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> distanceX</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> end[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> start[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> distanceY</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> end[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> start[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> baseAngle</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">atan2</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(distanceY</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> distanceX)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  return</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> baseAngle</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span></code></pre><h2 id="旋转" tabindex="-1">旋转 <a class="header-anchor" href="#旋转" aria-hidden="true">#</a></h2><p>由上 <code>Math.atan2()</code> 是逆时针旋转，那么这里计算点绕点逆时针旋转角度后的坐标位置.</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9b81996c563944c5bfbe14cf681abdd5~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>由上图可得</p><p>sin α = (y1 - y) / r cos α = (x1 - x) / r</p><p>sin (α + β) = (y2 - y) / r cos (α + β) = (x2 - x) / r</p><p>将r调换等号两边位置得:</p><p>r _ sin α = y1 - y r _ cos α = x1 - x</p><p>r _ sin (α + β) = y2 - y r _ cos (α + β) = x2 - x</p><p>利用初中三角函数以及结合律得:</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/98cf3a7510fb44d3aeff1cc97eb44637~tplv-k3u1fbpfcp-watermark.image?" alt="微信图片_20221114190100.jpg"></p><h2 id="构造步骤" tabindex="-1">构造步骤 <a class="header-anchor" href="#构造步骤" aria-hidden="true">#</a></h2><p>以上是本文的基础知识点。下面开始构造！</p><h3 id="曲线" tabindex="-1">曲线 <a class="header-anchor" href="#曲线" aria-hidden="true">#</a></h3><p>本来是打算只利用三次贝塞尔曲线绘制，但是其控制点不在实线上。</p><p class="codepen" data-height="300" data-default-tab="html,result" data-slug-hash="RwJVgGQ" data-preview="true" data-editable="true" data-user="pinky-pig" style="height:300px;box-sizing:border-box;display:flex;align-items:center;justify-content:center;border:2px solid;margin:1em 0;padding:1em"><span>See the Pen <a href="https://codepen.io/pinky-pig/pen/RwJVgGQ">Bezier Curve / Pen Tool</a> by pinky-pig (<a href="https://codepen.io/pinky-pig">@pinky-pig</a>) on <a href="https://codepen.io">CodePen</a>.</span></p><script async src="https://cpwebassets.codepen.io/assets/embed/ei.js"></script><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5bed625d77ad4eb8800c05b40e912abf~tplv-k3u1fbpfcp-watermark.image?" alt="C.gif"></p><p>如果要修改其弯曲度，感觉上没有那么优雅，然后看到了<code>https://excalidraw.com/</code>的直线效果，就很香。</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b395513e9af54dc79d98e8d6b54fdeb7~tplv-k3u1fbpfcp-watermark.image?" alt="bezier curve.gif"></p><p>最后结合C、S实现了。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2fe26cb748ce4f61b2f94bea78d2961a~tplv-k3u1fbpfcp-watermark.image?" alt="CC.png"></p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8cabae2ac6ec4177bde20ee03f4330e0~tplv-k3u1fbpfcp-watermark.image?" alt="SS.png"></p><p>C就已经可以控制曲线了。S也是生成曲线。 不过其控制点都是虚，不在曲线上。 如果想要一个控制点在曲线上的，拖动控制点即可控制，那么我们需要将其结合起来。</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8bbdd7a347bf4e1293b08c12da0691af~tplv-k3u1fbpfcp-watermark.image?" alt="bezierCS.gif"></p><p>由上面动图可以知道，当CS配合使用的时候，只需要移动C的最后的实际关键点的位置，和最后一个实际关键点控制点跟它保持相同的相对位置 就能构造出一个控制点在其实线上的贝塞尔曲线。</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5c7c17a60cf04e80b6641e8fc5ed70d0~tplv-k3u1fbpfcp-watermark.image?" alt="CS Line.gif"></p><p>代码如下：</p><pre class="shiki shiki-themes github-dark catppuccin-latte" style="--s-dark:#e1e4e8;--s-light:#4c4f69;--s-dark-bg:#24292e;--s-light-bg:#eff1f5" tabindex="0"><code class="language-vue"><span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">&lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">script</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> setup</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> lang</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"ts"</span><span style="--s-dark:#E1E4E8;--s-light:#179299">&gt;</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> middle</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> ref</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#8839EF">null</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> end</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> ref</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#8839EF">null</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> pointStart</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> ref</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">([</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 100</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">])</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> pointEnd</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> ref</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">([</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">800</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 100</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">])</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> pointMiddle</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> ref</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">([</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">600</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">])</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> p</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> computed</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">()</span><span style="--s-dark:#F97583;--s-light:#179299"> =&gt;</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  return</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B"> `</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">    M </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointStart</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointStart</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">    C </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointStart</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointStart</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointMiddle</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">] </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 100</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointMiddle</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointMiddle</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointMiddle</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">    S </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">  `</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">let</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> isDragging </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> false</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">function</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> handleMove</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">(</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic">e</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">)</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  if</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> (isDragging)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    pointMiddle</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> [e</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pageX</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> e</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pageY]</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">function</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> handleDown</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">()</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  isDragging </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> true</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">function</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> handleUp</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">()</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  isDragging </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> false</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">&lt;/</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">script</span><span style="--s-dark:#E1E4E8;--s-light:#179299">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">&lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">template</span><span style="--s-dark:#E1E4E8;--s-light:#179299">&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">  &lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">svg</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> @mousemove</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"handleMove"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> @mouseup</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"handleUp"</span><span style="--s-dark:#E1E4E8;--s-light:#179299">&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">    &lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">path</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :d</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"p"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> fill</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"transparent"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> stroke</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"black"</span><span style="--s-dark:#E1E4E8;--s-light:#179299"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">    &lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">circle</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cx</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointStart[0]"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cy</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointStart[1]"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> r</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"10"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> stroke-width</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"0.2"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> fill</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"red"</span><span style="--s-dark:#E1E4E8;--s-light:#179299"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">    &lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">circle</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> ref</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"end"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cx</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointEnd[0]"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cy</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointEnd[1]"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> r</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"10"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> stroke-width</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"0.2"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> fill</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"red"</span><span style="--s-dark:#E1E4E8;--s-light:#179299"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">    &lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">circle</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cx</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointMiddle[0] - 100"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cy</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointMiddle[1] "</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> r</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"10"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> stroke-width</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"0.2"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> fill</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"green"</span><span style="--s-dark:#E1E4E8;--s-light:#179299"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">    &lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">circle</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cx</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointMiddle[0] + 100"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cy</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointMiddle[1] "</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> r</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"10"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> stroke-width</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"0.2"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> fill</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"blue"</span><span style="--s-dark:#E1E4E8;--s-light:#179299"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">    &lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">circle</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> ref</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"middle"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cx</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointMiddle[0]"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cy</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointMiddle[1]"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> r</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"20"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> stroke-width</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"0.2"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> fill</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"red"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> @mousedown</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"handleDown"</span><span style="--s-dark:#E1E4E8;--s-light:#179299"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">  &lt;/</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">svg</span><span style="--s-dark:#E1E4E8;--s-light:#179299">&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">&lt;/</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">template</span><span style="--s-dark:#E1E4E8;--s-light:#179299">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">&lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">style</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> scoped</span><span style="--s-dark:#E1E4E8;--s-light:#179299">&gt;</span></span>
<span class="line"><span style="--s-dark:#85E89D;--s-light:#1E66F5">body</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  background</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#7C7F93"> #</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69">ddd</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  display</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> flex</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  justify-content</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> center</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#85E89D;--s-light:#1E66F5">svg</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  position</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> fixed</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  top</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 0</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  left</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 0</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  width</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 100</span><span style="--s-dark:#F97583;--s-light:#FE640B">%</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  height</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 100</span><span style="--s-dark:#F97583;--s-light:#8839EF">vh</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  background-color</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#7C7F93"> #</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69">ffffff</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  touch-action</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> none</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">&lt;/</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">style</span><span style="--s-dark:#E1E4E8;--s-light:#179299">&gt;</span></span></code></pre><h3 id="箭头" tabindex="-1">箭头 <a class="header-anchor" href="#箭头" aria-hidden="true">#</a></h3><p>上面构造出了曲线，接下来构造箭头。</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/dacef99ae0c44b11a1d5ee86732949e7~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>如上图所示，点O就是箭头终点，而箭翼两点相对于箭头终点的位置也有规律可循。先计算构造出平行于x轴方向的箭翼<code>←</code>的坐标，再计算出箭头起点与终点的角度，使用<code>Math.atan2()</code>计算得出夹角范围在[-π,π]，且x轴正方向是0，然后再将上一步计算的坐标按照角度旋转即可得出最终的箭翼的坐标。</p><p>计算初始的箭头坐标</p><pre class="shiki shiki-themes github-dark catppuccin-latte" style="--s-dark:#e1e4e8;--s-light:#4c4f69;--s-dark-bg:#24292e;--s-light-bg:#eff1f5" tabindex="0"><code class="language-ts"><span class="line"><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">// 计算箭头两翼的</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">function</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> calArrowHeadCoords</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">(</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic">point</span><span style="--s-dark:#F97583;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#8839EF"> number</span><span style="--s-dark:#E1E4E8;--s-dark-font-style:inherit;--s-light:#DF8E1D;--s-light-font-style:italic">[]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic"> h</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 50</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">)</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">  // 设置角度为30度</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> x</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> h </span><span style="--s-dark:#F97583;--s-light:#179299">*</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">sqrt</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">3</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  return</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> [</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    [point[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">+</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> x</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> point[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">+</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> h]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    [point[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">+</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> x</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> point[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> h]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  ]</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span></code></pre><p>计算角度</p><pre class="shiki shiki-themes github-dark catppuccin-latte" style="--s-dark:#e1e4e8;--s-light:#4c4f69;--s-dark-bg:#24292e;--s-light-bg:#eff1f5" tabindex="0"><code class="language-ts"><span class="line"><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">// 计算S控制点与终点的角度</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">function</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> calAngleControlAndEnd</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">(</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic">start</span><span style="--s-dark:#F97583;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#8839EF"> any</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic"> end</span><span style="--s-dark:#F97583;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#8839EF"> any</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">)</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> distanceX</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> end[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> start[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> distanceY</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> end[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> start[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> baseAngle</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">atan2</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(distanceY</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> distanceX)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  return</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> baseAngle</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span></code></pre><p>在平面直角坐标系中，点绕点旋转后的坐标</p><pre class="shiki shiki-themes github-dark catppuccin-latte" style="--s-dark:#e1e4e8;--s-light:#4c4f69;--s-dark-bg:#24292e;--s-light-bg:#eff1f5" tabindex="0"><code class="language-ts"><span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">function</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> calculateCoords</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">(</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic">start</span><span style="--s-dark:#F97583;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#8839EF"> number</span><span style="--s-dark:#E1E4E8;--s-dark-font-style:inherit;--s-light:#DF8E1D;--s-light-font-style:italic">[]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic"> end</span><span style="--s-dark:#F97583;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#8839EF"> number</span><span style="--s-dark:#E1E4E8;--s-dark-font-style:inherit;--s-light:#DF8E1D;--s-light-font-style:italic">[]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic"> angle</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">)</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> x</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> start[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> y</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> start[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> x1</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> end[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> y1</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> end[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> sin</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">sin</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(angle)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> cos</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">cos</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(angle)</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> x2</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> x </span><span style="--s-dark:#F97583;--s-light:#179299">+</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> (x1 </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> x) </span><span style="--s-dark:#F97583;--s-light:#179299">*</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> cos </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> (y1 </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> y) </span><span style="--s-dark:#F97583;--s-light:#179299">*</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> sin</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> y2</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> y </span><span style="--s-dark:#F97583;--s-light:#179299">+</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> (y1 </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> y) </span><span style="--s-dark:#F97583;--s-light:#179299">*</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> cos </span><span style="--s-dark:#F97583;--s-light:#179299">+</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> (x1 </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> x) </span><span style="--s-dark:#F97583;--s-light:#179299">*</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> sin</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  return</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> [x2</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> y2]</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span></code></pre><p>将以上三个方法结合使用，构造箭头</p><pre class="shiki shiki-themes github-dark catppuccin-latte" style="--s-dark:#e1e4e8;--s-light:#4c4f69;--s-dark-bg:#24292e;--s-light-bg:#eff1f5" tabindex="0"><code class="language-ts"><span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> arrowHeadPath</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> ref</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">()</span></span>
<span class="line"><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">watch</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">()</span><span style="--s-dark:#F97583;--s-light:#179299"> =&gt;</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> pointMiddle</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> ()</span><span style="--s-dark:#F97583;--s-light:#179299"> =&gt;</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> angle</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> calAngleControlAndEnd</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">([pointEnd</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> pointEnd</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> [pointMiddle</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">+</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 100</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> pointMiddle</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]])</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> coords</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> calArrowHeadCoords</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(pointEnd</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> c</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> coords</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">map</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">(</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic">item</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">)</span><span style="--s-dark:#F97583;--s-light:#179299"> =&gt;</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">    return</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> calculateCoords</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(pointEnd</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> item</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> angle)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">  }</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  arrowHeadPath</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B"> `</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">    M </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">    L </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">c</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">][</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">c</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">][</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">    M </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">    L </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">c</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">][</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">c</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">][</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">  `</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">},</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  immediate</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> true</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span></code></pre><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f25a1e53c2c44fc888e548520225f0e0~tplv-k3u1fbpfcp-watermark.image?" alt="b.gif"></p><p>全部代码</p><pre class="shiki shiki-themes github-dark catppuccin-latte" style="--s-dark:#e1e4e8;--s-light:#4c4f69;--s-dark-bg:#24292e;--s-light-bg:#eff1f5" tabindex="0"><code class="language-vue"><span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">&lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">script</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> setup</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> lang</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"ts"</span><span style="--s-dark:#E1E4E8;--s-light:#179299">&gt;</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> middle</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> ref</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#8839EF">null</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> end</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> ref</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#8839EF">null</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> pointStart</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> ref</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">([</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">50</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 200</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">])</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> pointEnd</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> ref</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">([</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">800</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 200</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">])</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> pointMiddle</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> ref</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">([</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">600</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 100</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">])</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> p</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> computed</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">()</span><span style="--s-dark:#F97583;--s-light:#179299"> =&gt;</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  return</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B"> `</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">    M </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointStart</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointStart</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">    C </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointStart</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointStart</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointMiddle</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">] </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 100</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointMiddle</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointMiddle</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointMiddle</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">    S </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">  `</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">// 计算箭头两翼的</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">function</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> calArrowHeadCoords</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">(</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic">point</span><span style="--s-dark:#F97583;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#8839EF"> number</span><span style="--s-dark:#E1E4E8;--s-dark-font-style:inherit;--s-light:#DF8E1D;--s-light-font-style:italic">[]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic"> h</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 50</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">)</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">  // 设置角度为30度</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> x</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> h </span><span style="--s-dark:#F97583;--s-light:#179299">*</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">sqrt</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">3</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  return</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> [</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    [point[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">+</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> x</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> point[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">+</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> h]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    [point[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">+</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> x</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> point[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> h]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  ]</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#6A737D;--s-dark-font-style:inherit;--s-light:#9CA0B0;--s-light-font-style:italic">// 计算S控制点与终点的角度</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">function</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> calAngleControlAndEnd</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">(</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic">start</span><span style="--s-dark:#F97583;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#8839EF"> any</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic"> end</span><span style="--s-dark:#F97583;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#8839EF"> any</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">)</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> distanceX</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> end[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> start[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> distanceY</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> end[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> start[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> baseAngle</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">atan2</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(distanceY</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> distanceX)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  return</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> baseAngle</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> arrowHeadPath</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> ref</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">()</span></span>
<span class="line"><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">watch</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">()</span><span style="--s-dark:#F97583;--s-light:#179299"> =&gt;</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> pointMiddle</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> ()</span><span style="--s-dark:#F97583;--s-light:#179299"> =&gt;</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> angle</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> calAngleControlAndEnd</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">([pointEnd</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> pointEnd</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> [pointMiddle</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">] </span><span style="--s-dark:#F97583;--s-light:#179299">+</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 100</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> pointMiddle</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]])</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> coords</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> calArrowHeadCoords</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(pointEnd</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> c</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> coords</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">map</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">(</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic">item</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">)</span><span style="--s-dark:#F97583;--s-light:#179299"> =&gt;</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">    return</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> calculateCoords</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(pointEnd</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> item</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> angle)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">  }</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  arrowHeadPath</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B"> `</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">    M </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">    L </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">c</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">][</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">c</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">][</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">    M </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">    L </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">c</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">][</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">c</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">][</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">  `</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">},</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  immediate</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> true</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">function</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> calculateCoords</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">(</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic">start</span><span style="--s-dark:#F97583;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#8839EF"> number</span><span style="--s-dark:#E1E4E8;--s-dark-font-style:inherit;--s-light:#DF8E1D;--s-light-font-style:italic">[]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic"> end</span><span style="--s-dark:#F97583;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#8839EF"> number</span><span style="--s-dark:#E1E4E8;--s-dark-font-style:inherit;--s-light:#DF8E1D;--s-light-font-style:italic">[]</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic"> angle</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">)</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> x</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> start[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> y</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> start[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> x1</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> end[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> y1</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> end[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">]</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> sin</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">sin</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(angle)</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> cos</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> Math</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic">cos</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(angle)</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> x2</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> x </span><span style="--s-dark:#F97583;--s-light:#179299">+</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> (x1 </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> x) </span><span style="--s-dark:#F97583;--s-light:#179299">*</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> cos </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> (y1 </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> y) </span><span style="--s-dark:#F97583;--s-light:#179299">*</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> sin</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> y2</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> y </span><span style="--s-dark:#F97583;--s-light:#179299">+</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> (y1 </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> y) </span><span style="--s-dark:#F97583;--s-light:#179299">*</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> cos </span><span style="--s-dark:#F97583;--s-light:#179299">+</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> (x1 </span><span style="--s-dark:#F97583;--s-light:#179299">-</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> x) </span><span style="--s-dark:#F97583;--s-light:#179299">*</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> sin</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  return</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> [x2</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> y2]</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> defaultArrowHeadPath</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> computed</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">()</span><span style="--s-dark:#F97583;--s-light:#179299"> =&gt;</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  const</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> coords</span><span style="--s-dark:#F97583;--s-light:#179299"> =</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> calArrowHeadCoords</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">(pointEnd</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value)</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  return</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B"> `</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">  M </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">  L </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">coords</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">][</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">coords</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">][</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">  M </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pointEnd</span><span style="--s-dark:#9ECBFF;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">  L </span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">coords</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">][</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">0</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93"> ${</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">coords</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">[</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">][</span><span style="--s-dark:#79B8FF;--s-light:#FE640B">1</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">]</span><span style="--s-dark:#9ECBFF;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#9ECBFF;--s-light:#40A02B">  `</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">)</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">let</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> isDragging </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> false</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">function</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> handleMove</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">(</span><span style="--s-dark:#FFAB70;--s-dark-font-style:inherit;--s-light:#E64553;--s-light-font-style:italic">e</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">)</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">  if</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> (isDragging)</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">    pointMiddle</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">value </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> [e</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pageX</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">,</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69"> e</span><span style="--s-dark:#E1E4E8;--s-light:#179299">.</span><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">pageY]</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">function</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> handleDown</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">()</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  isDragging </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> true</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#F97583;--s-light:#8839EF">function</span><span style="--s-dark:#B392F0;--s-dark-font-style:inherit;--s-light:#1E66F5;--s-light-font-style:italic"> handleUp</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">()</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#4C4F69">  isDragging </span><span style="--s-dark:#F97583;--s-light:#179299">=</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> false</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">&lt;/</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">script</span><span style="--s-dark:#E1E4E8;--s-light:#179299">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">&lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">template</span><span style="--s-dark:#E1E4E8;--s-light:#179299">&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">  &lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">svg</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> @mousemove</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"handleMove"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> @mouseup</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"handleUp"</span><span style="--s-dark:#E1E4E8;--s-light:#179299">&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">    &lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">path</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :d</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"p"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> fill</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"transparent"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> stroke</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"purple"</span><span style="--s-dark:#E1E4E8;--s-light:#179299"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">    &lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">path</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :d</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"arrowHeadPath"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> fill</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"transparent"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> stroke</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"purple"</span><span style="--s-dark:#E1E4E8;--s-light:#179299"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">    &lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">path</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :d</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"defaultArrowHeadPath"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> fill</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"transparent"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> stroke</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"black"</span><span style="--s-dark:#E1E4E8;--s-light:#179299"> /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">    &lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">circle</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cx</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointStart[0]"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cy</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointStart[1]"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> r</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"10"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> stroke-width</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"0.2"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> fill</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"red"</span><span style="--s-dark:#E1E4E8;--s-light:#179299"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">    &lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">circle</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> ref</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"end"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cx</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointEnd[0]"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cy</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointEnd[1]"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> r</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"10"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> stroke-width</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"0.2"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> fill</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"red"</span><span style="--s-dark:#E1E4E8;--s-light:#179299"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">    &lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">circle</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cx</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointMiddle[0] - 100"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cy</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointMiddle[1] "</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> r</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"10"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> stroke-width</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"0.2"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> fill</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"green"</span><span style="--s-dark:#E1E4E8;--s-light:#179299"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">    &lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">circle</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cx</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointMiddle[0] + 100"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cy</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointMiddle[1] "</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> r</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"10"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> stroke-width</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"0.2"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> fill</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"blue"</span><span style="--s-dark:#E1E4E8;--s-light:#179299"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">    &lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">circle</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> ref</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"middle"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cx</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointMiddle[0]"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> :cy</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"pointMiddle[1]"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> r</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"20"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> stroke-width</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"0.2"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> fill</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"red"</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> @mousedown</span><span style="--s-dark:#E1E4E8;--s-light:#179299">=</span><span style="--s-dark:#9ECBFF;--s-light:#40A02B">"handleDown"</span><span style="--s-dark:#E1E4E8;--s-light:#179299"> /&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">  &lt;/</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">svg</span><span style="--s-dark:#E1E4E8;--s-light:#179299">&gt;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">&lt;/</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">template</span><span style="--s-dark:#E1E4E8;--s-light:#179299">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">&lt;</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">style</span><span style="--s-dark:#B392F0;--s-light:#DF8E1D"> scoped</span><span style="--s-dark:#E1E4E8;--s-light:#179299">&gt;</span></span>
<span class="line"><span style="--s-dark:#85E89D;--s-light:#1E66F5">body</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  background</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#7C7F93"> #</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69">ddd</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  display</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> flex</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  justify-content</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> center</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#85E89D;--s-light:#1E66F5">svg</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93"> {</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  position</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> fixed</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  top</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 0</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  left</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 0</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  width</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 100</span><span style="--s-dark:#F97583;--s-light:#FE640B">%</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  height</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#FE640B"> 100</span><span style="--s-dark:#F97583;--s-light:#8839EF">vh</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  background-color</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#7C7F93"> #</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69">ffffff</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#79B8FF;--s-light:#1E66F5">  touch-action</span><span style="--s-dark:#E1E4E8;--s-light:#179299">:</span><span style="--s-dark:#79B8FF;--s-light:#4C4F69"> none</span><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">;</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#7C7F93">}</span></span>
<span class="line"><span style="--s-dark:#E1E4E8;--s-light:#179299">&lt;/</span><span style="--s-dark:#85E89D;--s-light:#1E66F5">style</span><span style="--s-dark:#E1E4E8;--s-light:#179299">&gt;</span></span></code></pre><h2 id="结语" tabindex="-1">结语 <a class="header-anchor" href="#结语" aria-hidden="true">#</a></h2><p>主要是为了回顾一下SVG和一些简单的三角函数。这里也只有两个知识点，一是贝塞尔曲线CS命令的应用，一是点绕点逆时针旋转后的坐标位置计算。</p><blockquote><p>张鑫旭老师的贝塞尔曲线讲解 ： <a href="https://www.zhangxinxu.com/wordpress/2014/06/deep-understand-svg-path-bezier-curves-command/" target="_blank" rel="noopener">https://www.zhangxinxu.com/wordpress/2014/06/deep-understand-svg-path-bezier-curves-command/</a></p></blockquote></div><!--]--></article><div class="slide-enter m-auto mt-8 animate-delay-500 prose print:hidden" data-v-a158718a><div class="mb-[10px] flex flex-col items-center justify-between font-mono op50 md:flex-row hover:op75" data-v-a158718a><div class="flex-1" data-v-a158718a>发布日期: 2024/01/08</div><div class="mt-4 flex-1 text-right md:mt-0" data-v-a158718a><a href="https://github.com/" title="Star" target="_blank" class="hidden lg:inline-block" data-v-a158718a>Github</a></div></div></div><div class="slide-enter m-auto mb-8 animate-delay-500 prose print:hidden" data-v-a158718a><br data-v-a158718a><span font-mono op50 data-v-a158718a>&gt; </span><a href="/Harry969.github.io/blog" class="font-mono op50 hover:op75" data-v-a158718a>cd ..</a><div class="py-4" data-v-a158718a></div><div data-v-a158718a></div></div><div class="top-btn opacity-0" data-v-a158718a data-v-e3571aee><div class="back-to-top-btn" data-v-e3571aee><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" data-v-e3571aee=""><g fill="none" data-v-e3571aee=""><g filter="url(#f2377id0)" data-v-e3571aee=""><path fill="url(#f2377id2)" d="m7.545 10.19l7.57-8.13a.992.992 0 0 1 1.43-.01l7.57 8.13c.56.597.12 1.564-.71 1.564h-3.64c-.35 0-.64.284-.64.626v5.194c0 .645-.53 1.163-1.19 1.163h-4.22c-.65 0-1.19-.518-1.18-1.153v-5.195a.637.637 0 0 0-.64-.625h-3.64c-.83 0-1.27-.958-.71-1.563" data-v-e3571aee=""/></g><g fill="#59555F" filter="url(#f2377id1)" data-v-e3571aee=""><path d="M12.27 20.569H5.83c-.55 0-1 .45-1 1s.45 1 1 1h2.22v6.17c0 .55.45 1 1 1s1-.45 1-1v-6.17h2.22c.55 0 1-.45 1-1c0-.56-.45-1-1-1m9.39.01h2.77c1.51 0 2.74 1.23 2.74 2.74c0 1.51-1.23 2.74-2.74 2.74h-1.77v2.69c0 .55-.45 1-1 1s-1-.45-1-1v-7.17c0-.55.45-1 1-1m1 3.48h1.77c.41 0 .74-.33.74-.74s-.33-.74-.74-.74h-1.77zm-9.39 2.55c0 1.73 1.41 3.14 3.15 3.14c1.73 0 3.15-1.41 3.15-3.14v-2.88c0-1.73-1.41-3.14-3.15-3.14s-3.15 1.41-3.15 3.14zm2-2.88a1.15 1.15 0 0 1 2.3 0v2.88c0 .64-.52 1.15-1.15 1.15c-.63 0-1.15-.52-1.15-1.15z" data-v-e3571aee=""/></g><defs data-v-e3571aee=""><filter id="f2377id0" width="18.571" height="18.976" x="6.794" y=".751" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse" data-v-e3571aee=""><feFlood flood-opacity="0" result="BackgroundImageFix" data-v-e3571aee=""/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx="-.5" dy=".5" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".375" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.505882 0 0 0 0 0.47451 0 0 0 0 0.537255 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="shape" result="effect1_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dy="-1" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".5" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.152941 0 0 0 0 0.12549 0 0 0 0 0.188235 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect1_innerShadow_18590_958" result="effect2_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx="1" dy="-1" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".5" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.152941 0 0 0 0 0.12549 0 0 0 0 0.188235 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect2_innerShadow_18590_958" result="effect3_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx="1" dy="1" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".5" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.239216 0 0 0 0 0.192157 0 0 0 0 0.290196 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect3_innerShadow_18590_958" result="effect4_innerShadow_18590_958" data-v-e3571aee=""/></filter><filter id="f2377id1" width="23.19" height="9.83" x="4.63" y="19.919" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse" data-v-e3571aee=""><feFlood flood-opacity="0" result="BackgroundImageFix" data-v-e3571aee=""/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dy="-.65" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".325" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.176471 0 0 0 0 0.141176 0 0 0 0 0.211765 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="shape" result="effect1_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx=".65" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".325" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.176471 0 0 0 0 0.141176 0 0 0 0 0.211765 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect1_innerShadow_18590_958" result="effect2_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx="-.2" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".25" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.176471 0 0 0 0 0.141176 0 0 0 0 0.211765 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect2_innerShadow_18590_958" result="effect3_innerShadow_18590_958" data-v-e3571aee=""/></filter><linearGradient id="f2377id2" x1="15.83" x2="15.83" y1="5.028" y2="18.727" gradientUnits="userSpaceOnUse" data-v-e3571aee=""><stop stop-color="#61576D" data-v-e3571aee=""/><stop offset="1" stop-color="#4D4753" data-v-e3571aee=""/></linearGradient></defs></g></svg></div><div class="button-glowing" data-v-e3571aee></div></div></main><!----><!----></main></div><script>window.__INITIAL_STATE__='{"pinia":{}}'</script><noscript>This website requires JavaScript to function properly. Please enable JavaScript to continue.</noscript><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></body></html>