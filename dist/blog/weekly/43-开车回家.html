<!DOCTYPE html><html lang="en" data-critters-container><head><meta charset="UTF-8"><meta name="author" content="Harry"><meta http-equiv="X-UA-Compatible" content="chrome=1"><meta name="revisit-after" content="7 days"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/Harry969.github.io/favicon.svg" type="image/svg+xml"><link rel="icon" href="/Harry969.github.io/favicon.svg" type="image/svg+xml"><meta name="description" content="周末开车回家，去试婚纱，春春很漂亮。在界首这个小县城租婚纱3套，外加一个跟妆和伴郎伴娘服，要2688，好贵，最后我妈出的钱，谢谢俺妈。"><meta property="og:title" content="第43期 - 开车回家"><meta property="og:description" content="周末开车回家，去试婚纱，春春很漂亮。在界首这个小县城租婚纱3套，外加一个跟妆和伴郎伴娘服，要2688，好贵，最后我妈出的钱，谢谢俺妈。"><meta property="og:url" content="https://harry.ocybers.com"><meta property="og:image" content="https://harry.ocybers.com/og%2F43-%E5%BC%80%E8%BD%A6%E5%9B%9E%E5%AE%B6.png"><meta property="og:image:username" content="Harry"><meta property="og:type" content="website"><meta property="og:locale" content="zh_CN"><link rel="icon" href="/Harry969.github.io/logo.svg"><link rel="apple-touch-icon" href="/Harry969.github.io/apple-touch-icon.png"><link rel="mask-icon" href="/Harry969.github.io/logo.svg" color="#f3f3f3"><meta name="msapplication-TileColor" content="#f3f3f3"><title>第43期 - 开车回家</title><script>!function(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><script type="text/javascript">!function(t,e,n,a,c,r,s){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(a)).async=1,r.src="https://www.clarity.ms/tag/l5lha2hb78",(s=e.getElementsByTagName(a)[0]).parentNode.insertBefore(r,s)}(window,document,"clarity","script")</script><script type="module" async crossorigin src="/Harry969.github.io/app-B1EYvVvy.js"></script><link rel="stylesheet" crossorigin href="/Harry969.github.io/app-ClIDuydC.css"><link rel="manifest" href="/Harry969.github.io/manifest.webmanifest"><link rel="modulepreload" crossorigin href="/Harry969.github.io/default-CoJUmIHw.js"><link rel="stylesheet" href="/Harry969.github.io/default-D_xgwk-u.css"><link rel="modulepreload" crossorigin href="/Harry969.github.io/43-开车回家-BeGs4WbC.js"><link rel="modulepreload" crossorigin href="/Harry969.github.io/WrapperPost-DKdVlOhM.js"><link rel="stylesheet" href="/Harry969.github.io/WrapperPost-1N2X-y6y.css"><meta name="twitter:title" content="第43期 - 开车回家"><meta name="twitter:description" content="周末开车回家，去试婚纱，春春很漂亮。在界首这个小县城租婚纱3套，外加一个跟妆和伴郎伴娘服，要2688，好贵，最后我妈出的钱，谢谢俺妈。"><meta name="twitter:image" content="https://harry.ocybers.com/og%2F43-%E5%BC%80%E8%BD%A6%E5%9B%9E%E5%AE%B6.png"><meta name="twitter:card" content="summary_large_image"></head><body class="font-sans"><div id="app" data-server-rendered="true"><main id="main-root" class="bg-[var(--bg-main-color)] pt-[100px] pb-20 px-[10px] md:px-5 overflow-x-hidden min-h-screen md:pt-[112px]"><div id="nav-bg" class="fixed left-0 top-0 z-[2] h-fit w-full flex flex-row items-center justify-between px-[3.5vw] py-[18px] md:h-[80px] md:py-unset" style data-v-0216a5e7><img class="mt-[0px] block h-[40px] w-[40px] md:mt-0 md:h-[56px] md:w-[56px]" src="/Harry969.github.io/logo.svg" alt data-v-0216a5e7><!----><div class="grid h-[40px] w-[40px] place-items-center" data-v-0216a5e7><button class="!outline-none" data-v-0216a5e7><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="h-[16px] w-[16px]" style="" width="1em" height="1em" viewBox="0 0 16 16"/></button></div></div><main id="blog-root" style="font-family:LXGW WenKai Screen R" class="relative z-[1] mx-auto max-w-[760px] w-full rounded-[10px] border-unset bg-transparent px-2 pt-[10px] text-start md:border md:border-[var(--blog--border)] md:border-solid md:bg-[var(--blog-bg)] md:p-10 md:px-[36px]" data-v-a158718a><!----><div class="m-auto mb-8 prose" data-v-a158718a><h1 class="slide-enter-50 mb-0" data-v-a158718a>第43期 - 开车回家</h1><p class="slide-enter-50 opacity-50" data-v-a158718a>Jan 29<!----></p><p class="slide-enter-50" style="font-size:80%" data-v-a158718a>周末开车回家，去试婚纱，春春很漂亮。在界首这个小县城租婚纱3套，外加一个跟妆和伴郎伴娘服，要2688，好贵，最后我妈出的钱，谢谢俺妈。</p><!----><!----><!----></div><article class data-v-a158718a><!--[--><div class="prose m-auto slide-enter-content"><p></p><div class="table-of-contents"><div class="table-of-contents-anchor hidden"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M3 4h18v2H3zm0 7h12v2H3zm0 7h18v2H3z"/></svg></div><ul><li><a href="#技术相关">技术相关</a><ul><li><a href="#html2particle">html2particle</a><ul><li><a href="#实现思路">实现思路</a></li><li><a href="#开发逻辑">开发逻辑</a></li></ul></li><li><a href="#vue-flat-sortable">vue-flat-sortable</a></li><li><a href="#my-cover">my-cover</a></li></ul></li><li><a href="#生活相关">生活相关</a><ul><li><a href="#开车回家">开车回家</a></li><li><a href="#试婚纱">试婚纱</a></li><li><a href="#返程">返程</a></li></ul></li><li><a href="#本周阅读">本周阅读</a></li></ul></div><p></p><p align="center"><img alt="my-cover" src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/imagesmy-cover.png" width="800"></p><h2 id="技术相关" tabindex="-1">技术相关 <a class="header-anchor" href="#技术相关" aria-hidden="true">#</a></h2><h3 id="html2particle" tabindex="-1">html2particle <a class="header-anchor" href="#html2particle" aria-hidden="true">#</a></h3><blockquote><p>Demo 及文档预览 : <a href="https://html2particle.harry.ocybers.com/guide/demo.html" target="_blank" rel="noopener">https://html2particle.harry.ocybers.com/guide/demo.html</a> NPM 包地址 : <a href="https://www.npmjs.com/package/html2particle" target="_blank" rel="noopener">https://www.npmjs.com/package/html2particle</a> GitHub 仓库地址 : <a href="https://github.com/pinky-pig/html2particle" target="_blank" rel="noopener">https://github.com/pinky-pig/html2particle</a> 掘金文档 : <a href="https://juejin.cn/post/7327305284854972450" target="_blank" rel="noopener">https://juejin.cn/post/7327305284854972450</a></p></blockquote><h4 id="实现思路" tabindex="-1">实现思路 <a class="header-anchor" href="#实现思路" aria-hidden="true">#</a></h4><p>实现思路的话十分好理解，一句话就可以说的清。</p><p><strong>先用 <code>html2canvas</code> 将 DOM 转成 canvas ，然后将 canvas 转成粒子开始做动画。</strong></p><p>全部实现下来核心代码 200 多行，7kb左右吧。不过由于依赖了 <code>html2canvas</code>，打包后还是有 200+ kb 的大小。</p><h4 id="开发逻辑" tabindex="-1">开发逻辑 <a class="header-anchor" href="#开发逻辑" aria-hidden="true">#</a></h4><p><strong>输入</strong></p><p>既然是要将 DOM 转为 Canvas 粒子，那么输入自然是 DOM 。这里预设了两种粒子效果，就如开篇的图所示。</p><p><strong>获取图像数据</strong></p><p>调用方法，传入 DOM 和 动画类型初始化后，直接就是获取图像数据，这些数据就是后面要创建的粒子。</p><p>自己传入进来的 DOM 什么样，就能截图显示成什么样?（当然，<code>html2canvas</code> 的小缺陷还是避免不了，比如跨域图片的加载 。）</p><p>然后除了图像数据外，还有 DOM 的尺寸也要记录下来，到时候在画布上渲染需要用得到。</p><p><strong>开始动画</strong></p><p>初始化好后，自然不一定希望立即动画，所以导出了一个 <code>startAnimation</code> 方法，一旦调用就开始动画。</p><p>而这个方法，自然有几处逻辑上的需要考虑，比如上一次的动画需要清除，动画的持续时间，动画结束之后又要清除以防内存泄露等等。考虑好后，自然就是逻辑上的开发了。</p><p><strong>动画渲染</strong></p><p>终于到了关键的一步，而这里却很简单。</p><p>几个步骤：</p><ol><li>调用动画方法后，增加一个 Canvas 画布，用于渲染粒子。</li><li>requestAnimationFrame 渲染动画。</li><li>从 <code>html2canvas</code> 获取的图像数据，遍历创建粒子，这些粒子的位置随 requestAnimationFrame 改变。</li></ol><p>核心逻辑就是这样，不过还有一些小细节要考虑。比如要更新一下传入 DOM 的位置，放置窗口 Resize 或者页面 Scroll 造成的位置影响。或者粒子的动画效果该如何去设置。不过这些都是优化项，主要初步的能渲染就行，粒子的动画效果无非就是改变 x || y 值，做匀速、匀加速、正弦余弦波动，几种组合在一起，整的花里胡哨的。</p><p>然后还有就是粒子的数量对浏览器的 FPS 的影响。</p><h3 id="vue-flat-sortable" tabindex="-1">vue-flat-sortable <a class="header-anchor" href="#vue-flat-sortable" aria-hidden="true">#</a></h3><p>之前使用 relative 、 absolute 、 transform 做的一个排序，感觉代码没有那么简洁。然后想使用 <code>draggable</code> 改写一下，基础排序比较简单，几行代码就可以实现，但是面临了动画的难点，看来还是需要研究一下</p><h3 id="my-cover" tabindex="-1">my-cover <a class="header-anchor" href="#my-cover" aria-hidden="true">#</a></h3><p><img src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/images20240129101603.png" alt="20240129101603"></p><p>设计了一个自己的封面，画个一天给它做出来。</p><p><img src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/images20240129160707.png" alt="20240129160707"></p><h2 id="生活相关" tabindex="-1">生活相关 <a class="header-anchor" href="#生活相关" aria-hidden="true">#</a></h2><h3 id="开车回家" tabindex="-1">开车回家 <a class="header-anchor" href="#开车回家" aria-hidden="true">#</a></h3><p><img src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/images%E5%91%A8%E6%9C%AB%E5%BC%80%E8%BD%A6%E5%9B%9E%E5%AE%B6.png" alt="周末开车回家"></p><p>开车回去，400公里作用。</p><p>第一次开车回老家，对于新手司机的我来说，南京内还是有点费劲。</p><p>而出了南京城没啥堵车，但还是花了四个半小时。南京到蚌埠这一段，开的有点累。后面一直到界首，就很放松了。</p><p>回南京的时候，也是到了曹庄服务区后，开始有点累了。</p><p>总的来说，第一次长途高速之旅，完美结束。回去的路程很舒服，可能是前面在南京开的很累，后面开的算是放松了。回南京的时候开的很累，因为后面开了那么久了，还在南京路况那么复杂的地方，更加累了。</p><p>没用定速巡航，最后脚踝及小腿肌肉很痛，还有脖子三角肌那里很累。</p><p><img src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/images%E7%8B%97%E5%AD%902.jpg" alt="狗子2"></p><p><img src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/images%E5%AE%B6%E9%87%8C%E7%8B%97%E5%AD%90.jpg" alt="家里狗子"></p><p><img src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/images%E5%B0%8F%E7%8C%AB%E5%92%AA.jpg" alt="小猫咪"></p><h3 id="试婚纱" tabindex="-1">试婚纱 <a class="header-anchor" href="#试婚纱" aria-hidden="true">#</a></h3><p><img src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/images%E6%98%A5%E6%98%A5%E7%A7%80%E7%A6%BE%E6%9C%8D.jpg" alt="春春秀禾服"></p><p>去婚礼场子那里，问了经理的具体流程，说是婚庆流程会在结婚前两周通知，事无巨细，很清楚，让我们尽管放心。那就只剩婚纱和婚车了，他们提供的婚车，一辆车350，宝马车，但是感觉好贵，一个上午，如果是六辆车的话，那就一两千了又。还不如两辆好点的，其余的找亲戚借。</p><p>然后我们就去婚纱店了，也还是那个婚庆老板推荐的，2688三套加个跟妆，降不得价格。</p><p>春春试的都很好看，她很干净，适合素雅的衣服。因为有了上次婚纱照的经验，这次试婚纱也很快，因为知道自己的风格了。</p><h3 id="返程" tabindex="-1">返程 <a class="header-anchor" href="#返程" aria-hidden="true">#</a></h3><p>看到我妈鬓角白了好多，家里只有她自己。我在南京打工，我弟弟上高中学业压力大，也一周也就回家一次，我爸在外面打工，也是很少回去。回南京的时候，她给准备好的，自己榨的香油，还有自己炸的“麻叶”，还有自己家小麦磨得面粉，还有她转门在店里盯着，给我结婚准备弹的几床棉花被褥，都让我们带回南京。</p><p>棉花被子很舒服，红色的，看着也很喜庆。</p><p>唉，走的时候，其实感觉俺妈还是很孤独的在村里。</p><h2 id="本周阅读" tabindex="-1">本周阅读 <a class="header-anchor" href="#本周阅读" aria-hidden="true">#</a></h2></div><!--]--></article><div class="slide-enter m-auto mt-8 animate-delay-500 prose print:hidden" data-v-a158718a><div class="mb-[10px] flex flex-col items-center justify-between font-mono op50 md:flex-row hover:op75" data-v-a158718a><div class="flex-1" data-v-a158718a>发布日期: 2024/01/29</div><div class="mt-4 flex-1 text-right md:mt-0" data-v-a158718a><a href="https://github.com/" title="Star" target="_blank" class="hidden lg:inline-block" data-v-a158718a>Github</a></div></div></div><div class="slide-enter m-auto mb-8 animate-delay-500 prose print:hidden" data-v-a158718a><br data-v-a158718a><span font-mono op50 data-v-a158718a>&gt; </span><a href="/Harry969.github.io/blog" class="font-mono op50 hover:op75" data-v-a158718a>cd ..</a><div class="py-4" data-v-a158718a></div><div data-v-a158718a></div></div><div class="top-btn opacity-0" data-v-a158718a data-v-e3571aee><div class="back-to-top-btn" data-v-e3571aee><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" data-v-e3571aee=""><g fill="none" data-v-e3571aee=""><g filter="url(#f2377id0)" data-v-e3571aee=""><path fill="url(#f2377id2)" d="m7.545 10.19l7.57-8.13a.992.992 0 0 1 1.43-.01l7.57 8.13c.56.597.12 1.564-.71 1.564h-3.64c-.35 0-.64.284-.64.626v5.194c0 .645-.53 1.163-1.19 1.163h-4.22c-.65 0-1.19-.518-1.18-1.153v-5.195a.637.637 0 0 0-.64-.625h-3.64c-.83 0-1.27-.958-.71-1.563" data-v-e3571aee=""/></g><g fill="#59555F" filter="url(#f2377id1)" data-v-e3571aee=""><path d="M12.27 20.569H5.83c-.55 0-1 .45-1 1s.45 1 1 1h2.22v6.17c0 .55.45 1 1 1s1-.45 1-1v-6.17h2.22c.55 0 1-.45 1-1c0-.56-.45-1-1-1m9.39.01h2.77c1.51 0 2.74 1.23 2.74 2.74c0 1.51-1.23 2.74-2.74 2.74h-1.77v2.69c0 .55-.45 1-1 1s-1-.45-1-1v-7.17c0-.55.45-1 1-1m1 3.48h1.77c.41 0 .74-.33.74-.74s-.33-.74-.74-.74h-1.77zm-9.39 2.55c0 1.73 1.41 3.14 3.15 3.14c1.73 0 3.15-1.41 3.15-3.14v-2.88c0-1.73-1.41-3.14-3.15-3.14s-3.15 1.41-3.15 3.14zm2-2.88a1.15 1.15 0 0 1 2.3 0v2.88c0 .64-.52 1.15-1.15 1.15c-.63 0-1.15-.52-1.15-1.15z" data-v-e3571aee=""/></g><defs data-v-e3571aee=""><filter id="f2377id0" width="18.571" height="18.976" x="6.794" y=".751" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse" data-v-e3571aee=""><feFlood flood-opacity="0" result="BackgroundImageFix" data-v-e3571aee=""/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx="-.5" dy=".5" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".375" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.505882 0 0 0 0 0.47451 0 0 0 0 0.537255 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="shape" result="effect1_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dy="-1" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".5" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.152941 0 0 0 0 0.12549 0 0 0 0 0.188235 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect1_innerShadow_18590_958" result="effect2_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx="1" dy="-1" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".5" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.152941 0 0 0 0 0.12549 0 0 0 0 0.188235 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect2_innerShadow_18590_958" result="effect3_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx="1" dy="1" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".5" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.239216 0 0 0 0 0.192157 0 0 0 0 0.290196 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect3_innerShadow_18590_958" result="effect4_innerShadow_18590_958" data-v-e3571aee=""/></filter><filter id="f2377id1" width="23.19" height="9.83" x="4.63" y="19.919" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse" data-v-e3571aee=""><feFlood flood-opacity="0" result="BackgroundImageFix" data-v-e3571aee=""/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dy="-.65" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".325" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.176471 0 0 0 0 0.141176 0 0 0 0 0.211765 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="shape" result="effect1_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx=".65" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".325" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.176471 0 0 0 0 0.141176 0 0 0 0 0.211765 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect1_innerShadow_18590_958" result="effect2_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx="-.2" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".25" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.176471 0 0 0 0 0.141176 0 0 0 0 0.211765 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect2_innerShadow_18590_958" result="effect3_innerShadow_18590_958" data-v-e3571aee=""/></filter><linearGradient id="f2377id2" x1="15.83" x2="15.83" y1="5.028" y2="18.727" gradientUnits="userSpaceOnUse" data-v-e3571aee=""><stop stop-color="#61576D" data-v-e3571aee=""/><stop offset="1" stop-color="#4D4753" data-v-e3571aee=""/></linearGradient></defs></g></svg></div><div class="button-glowing" data-v-e3571aee></div></div></main><!----><!----></main></div><script>window.__INITIAL_STATE__='{"pinia":{}}'</script><noscript>This website requires JavaScript to function properly. Please enable JavaScript to continue.</noscript><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></body></html>