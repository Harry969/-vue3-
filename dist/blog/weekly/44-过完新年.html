<!DOCTYPE html><html lang="en" data-critters-container><head><meta charset="UTF-8"><meta name="author" content="Harry"><meta http-equiv="X-UA-Compatible" content="chrome=1"><meta name="revisit-after" content="7 days"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/Harry969.github.io/favicon.svg" type="image/svg+xml"><link rel="icon" href="/Harry969.github.io/favicon.svg" type="image/svg+xml"><meta name="description" content="眨眼就过完了新年，等今年结完婚，就开始了奋斗，努力努力攒钱"><meta property="og:title" content="第44期 - 过完新年"><meta property="og:description" content="眨眼就过完了新年，等今年结完婚，就开始了奋斗，努力努力攒钱"><meta property="og:url" content="https://mmeme.me"><meta property="og:image" content="https://mmeme.me/og%2F44-%E8%BF%87%E5%AE%8C%E6%96%B0%E5%B9%B4.png"><meta property="og:image:username" content="Harry"><meta property="og:type" content="website"><meta property="og:locale" content="zh_CN"><link rel="icon" href="/Harry969.github.io/logo.svg"><link rel="apple-touch-icon" href="/Harry969.github.io/apple-touch-icon.png"><link rel="mask-icon" href="/Harry969.github.io/logo.svg" color="#f3f3f3"><meta name="msapplication-TileColor" content="#f3f3f3"><title>第44期 - 过完新年</title><script>!function(){const e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("vueuse-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><script type="text/javascript">!function(t,e,n,a,c,r,s){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(r=e.createElement(a)).async=1,r.src="https://www.clarity.ms/tag/l5lha2hb78",(s=e.getElementsByTagName(a)[0]).parentNode.insertBefore(r,s)}(window,document,"clarity","script")</script><script type="module" async crossorigin src="/Harry969.github.io/app-B1EYvVvy.js"></script><link rel="stylesheet" crossorigin href="/Harry969.github.io/app-ClIDuydC.css"><link rel="manifest" href="/Harry969.github.io/manifest.webmanifest"><link rel="modulepreload" crossorigin href="/Harry969.github.io/default-CoJUmIHw.js"><link rel="stylesheet" href="/Harry969.github.io/default-D_xgwk-u.css"><link rel="modulepreload" crossorigin href="/Harry969.github.io/44-过完新年-BfxnkSh-.js"><link rel="modulepreload" crossorigin href="/Harry969.github.io/WrapperPost-DKdVlOhM.js"><link rel="stylesheet" href="/Harry969.github.io/WrapperPost-1N2X-y6y.css"><meta name="twitter:title" content="第44期 - 过完新年"><meta name="twitter:description" content="眨眼就过完了新年，等今年结完婚，就开始了奋斗，努力努力攒钱"><meta name="twitter:image" content="https://mmeme.me/og%2F44-%E8%BF%87%E5%AE%8C%E6%96%B0%E5%B9%B4.png"><meta name="twitter:card" content="summary_large_image"></head><body class="font-sans"><div id="app" data-server-rendered="true"><main id="main-root" class="bg-[var(--bg-main-color)] pt-[100px] pb-20 px-[10px] md:px-5 overflow-x-hidden min-h-screen md:pt-[112px]"><div id="nav-bg" class="fixed left-0 top-0 z-[2] h-fit w-full flex flex-row items-center justify-between px-[3.5vw] py-[18px] md:h-[80px] md:py-unset" style data-v-0216a5e7><img class="mt-[0px] block h-[40px] w-[40px] md:mt-0 md:h-[56px] md:w-[56px]" src="/Harry969.github.io/logo.svg" alt data-v-0216a5e7><!----><div class="grid h-[40px] w-[40px] place-items-center" data-v-0216a5e7><button class="!outline-none" data-v-0216a5e7><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="h-[16px] w-[16px]" style="" width="1em" height="1em" viewBox="0 0 16 16"/></button></div></div><main id="blog-root" style="font-family:LXGW WenKai Screen R" class="relative z-[1] mx-auto max-w-[760px] w-full rounded-[10px] border-unset bg-transparent px-2 pt-[10px] text-start md:border md:border-[var(--blog--border)] md:border-solid md:bg-[var(--blog-bg)] md:p-10 md:px-[36px]" data-v-a158718a><!----><div class="m-auto mb-8 prose" data-v-a158718a><h1 class="slide-enter-50 mb-0" data-v-a158718a>第44期 - 过完新年</h1><p class="slide-enter-50 opacity-50" data-v-a158718a>Feb 21<!----></p><p class="slide-enter-50" style="font-size:80%" data-v-a158718a>眨眼就过完了新年，等今年结完婚，就开始了奋斗，努力努力攒钱</p><!----><!----><!----></div><article class data-v-a158718a><!--[--><div class="prose m-auto slide-enter-content"><p></p><div class="table-of-contents"><div class="table-of-contents-anchor hidden"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="currentColor" d="M3 4h18v2H3zm0 7h12v2H3zm0 7h18v2H3z"/></svg></div><ul><li><a href="#技术相关">技术相关</a><ul><li><a href="#vue-flat-sortable">vue-flat-sortable</a></li></ul></li><li><a href="#生活相关">生活相关</a><ul><li><a href="#年前上班">年前上班</a></li><li><a href="#买短补长回家过年">买短补长回家过年</a></li><li><a href="#刷乳胶漆，整理房间">刷乳胶漆，整理房间</a></li><li><a href="#奶奶八十六岁了">奶奶八十六岁了</a></li><li><a href="#收拾南京婚房卧室">收拾南京婚房卧室</a></li><li><a href="#厕所镜前灯坏了">厕所镜前灯坏了</a></li></ul></li><li><a href="#本周阅读">本周阅读</a></li></ul></div><p></p><p align="center"><img alt="乳胶漆刷墙" src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/images乳胶漆刷墙.jpg" width="800"></p><h2 id="技术相关" tabindex="-1">技术相关 <a class="header-anchor" href="#技术相关" aria-hidden="true">#</a></h2><h3 id="vue-flat-sortable" tabindex="-1">vue-flat-sortable <a class="header-anchor" href="#vue-flat-sortable" aria-hidden="true">#</a></h3><p align="center"><img alt="vue-flat-sortable" src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/imagesvue-flat-sortable.gif" height="300"></p><p>比较简单的在同级之间排序，将元素拖拽到目标位置，然后插入到目标位置之前，达成排序。 简单实现 <a href="https://github.com/SortableJS/Sortable" target="_blank" rel="noopener">Sortable</a> 的基础用法。</p><p>主要要解决的三个问题就是：</p><ul><li>排序</li><li>动画</li><li>连续动画</li></ul><p>使用到的属性和方法：</p><ul><li>属性 <code>draggable</code></li><li>事件 <code>dragstart</code> 、 <code>dragenter</code> 、 <code>dragover</code> 、 <code>dragend</code></li><li>方法 <code>element.insertBefore</code> 、 <code>element.animate</code> 、<code>element.getBoundingClientRect</code></li></ul><p>开发思路：</p><ol><li>(dragstart) 获取拖拽元素。</li><li>(dragenter) 获取目标元素。</li><li>当拖拽元素被拖拽到目标位置时，可知当前两个元素碰撞， insertBefore 将拖拽元素插入到目标元素之前或之后，根据拖拽元素的 index 与目标元素的 index 比较结果。</li><li>对所有元素进行动画效果，因为每个元素的大小不一致，移动位置的时候需要重新计算，只对拖拽元素和目标元素设置动画可能会忽略其他元素的变化效果。所以需要记录所有元素 insertBefore 之前和之后的位置，使用 animate 方法实现动画效果。</li><li>如果是拖拽元素和目标元素之间的元素，设置动画的时候，同时给其设置一个正在进行动画的标志属性。避免还在动画过程中，拖拽元素与其碰撞，再次进行排序。</li><li>如果是其他元素正在动画过程中，再次碰撞，可以<strong>不做处理</strong>。也可以使用 <code>getComputedStyle</code> 获取正在进行动画的元素的 <code>translate</code> 值（因为我们这里用到的 <code>element.animate</code> 其实就是对元素设置 <code>transform: matrix()</code>，然后获取其正在进行动画的时候的位置）。再使用 getElementAnimation 方法获取正在进行的动画，然后取消该动画。再以 <code>getBoundingClientRect</code> 获取的位置和<code>translate</code> 值相减，得到目标元素需要移动的距离，作为动画的初始位置，开始新的动画。</li><li>一些其他的事情，比如排序后的返回值，容器内的元素是否可拖拽，是否在拖拽中等，这些都是比较简单的后续添加。</li></ol><h2 id="生活相关" tabindex="-1">生活相关 <a class="header-anchor" href="#生活相关" aria-hidden="true">#</a></h2><h3 id="年前上班" tabindex="-1">年前上班 <a class="header-anchor" href="#年前上班" aria-hidden="true">#</a></h3><p><img src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/images%E5%B9%B4%E5%89%8D%E5%A4%A7%E9%9B%AA%E9%BC%93%E6%A5%BC%E5%AF%BA%E5%BA%99.jpg" alt="年前大雪鼓楼寺庙"></p><p>年前又下了一场大雪，今年天气很反常。之前下过一次大雪，天气很冷。然后立春后，温度升高，很热。然后临过年，突然下好大的一场雪，天也很冷。过年那几天，又很热，直接24度。很奇怪，现在年过完了，又到零下了，又下了一场雪。天气多变啊。</p><h3 id="买短补长回家过年" tabindex="-1">买短补长回家过年 <a class="header-anchor" href="#买短补长回家过年" aria-hidden="true">#</a></h3><p>今年过年又是买不到全程票的一年，只能买短补长回家过年了。不过去南京的票，我候补的是全程的，而且竟然候补到了。我刷网上，好像全程票的优先级比中途票要高。不太清楚具体的业务逻辑，等之后试一下吧。</p><h3 id="刷乳胶漆，整理房间" tabindex="-1">刷乳胶漆，整理房间 <a class="header-anchor" href="#刷乳胶漆，整理房间" aria-hidden="true">#</a></h3><p>马上要结婚了，我和春春虽然顶多在老家过年的时候住两天，但是既然是结婚，卧室也还是要整理一下的。 我先买了乳胶漆刷一下，不过还是刷早了，应该先挂一遍腻子，然后再吊顶，然后再乳胶漆的。我先把卧室乳胶漆刮了，当时觉得效果还行。俺爸说后面把那个卧室吊顶，再把中间物子挂个大白。然后我再看我刮的乳胶漆和别人专业的做的，差距就出来了。</p><p>后面又跟俺妈一起去看新床，但是看了好几个，感觉都有点过时了，然后一张口就是要价三千多，感觉不值。后面我还想说在网上买，但是俺爸俺妈说网上的质量不行，然后俺妈又去界首跟着她老板去看了木床。没想到还挺好看的，不过也是挺贵的，裸床都要两千七，一个床头柜二百，垫子还没买呢。</p><p><img src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/images%E8%80%81%E5%AE%B6%E5%8D%A7%E5%AE%A4%E5%BC%80%E5%A7%8B%E5%88%B7%E5%A2%99.jpg" alt="老家卧室开始刷墙"></p><p><img src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/images%E5%88%B7%E5%A2%99%E7%9A%84%E8%87%AA%E5%B7%B11.jpg" alt="刷墙的自己1"></p><p><img src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/images%E5%88%B7%E5%A2%99%E7%9A%84%E8%87%AA%E5%B7%B12.jpg" alt="刷墙的自己2"></p><h3 id="奶奶八十六岁了" tabindex="-1">奶奶八十六岁了 <a class="header-anchor" href="#奶奶八十六岁了" aria-hidden="true">#</a></h3><p>之前只知道奶奶八十多了，但今年才知道，已经八十六了。去年回来的时候还记得清我，今年已经有点糊涂了。反正还知道我家，知道我过年回来了，特意颤颤巍巍的带着我送给她的围脖，来俺家。</p><p>希望奶奶身体健康。</p><p><img src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/images%E5%B8%A6%E5%9B%B4%E8%84%96%E7%9A%84%E5%A5%B6%E5%A5%B6.jpg" alt="带围脖的奶奶"></p><h3 id="收拾南京婚房卧室" tabindex="-1">收拾南京婚房卧室 <a class="header-anchor" href="#收拾南京婚房卧室" aria-hidden="true">#</a></h3><p>上次回家从家里拿的俺妈准备的被子和铺得，但是我上次记错了哪个是铺的哪个是盖得，导致弄反了。这次回去我又问了一下我妈，才弄清楚。回来春春重新弄了一下，果然好看正常多了。</p><p><img src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/images%E8%87%AA%E5%B7%B1%E7%9A%84%E5%A9%9A%E6%88%BF%E5%B8%83%E7%BD%AE.jpg" alt="自己的婚房布置"></p><p>还从春春家里带了好几床棉被，不过还没有用上，放在阁楼了。</p><h3 id="厕所镜前灯坏了" tabindex="-1">厕所镜前灯坏了 <a class="header-anchor" href="#厕所镜前灯坏了" aria-hidden="true">#</a></h3><p>昨天从拼多多上买的 5w 小螺旋灯到了，但是螺上去并不亮。客服告诉我，里面的接触钢芯碰不到，需要将其往外拉一下才行。但我试了之后，螺上灯泡，有一个可以，其它的直接导致跳闸了。然后控制灯座的开关直接弹簧回不去了。我又卸开开关，用筷子拨正弹簧，才弄好。算了，一个灯也很亮了，之后直接换个镜前灯。</p><p><img src="https://cdn.jsdelivr.net/gh/pinky-pig/pic-bed/images%E5%8E%95%E6%89%80%E7%81%AF%E5%85%89%E6%8F%92%E5%BA%A7.jpg" alt="厕所灯光插座"></p><h2 id="本周阅读" tabindex="-1">本周阅读 <a class="header-anchor" href="#本周阅读" aria-hidden="true">#</a></h2></div><!--]--></article><div class="slide-enter m-auto mt-8 animate-delay-500 prose print:hidden" data-v-a158718a><div class="mb-[10px] flex flex-col items-center justify-between font-mono op50 md:flex-row hover:op75" data-v-a158718a><div class="flex-1" data-v-a158718a>发布日期: 2024/02/21</div><div class="mt-4 flex-1 text-right md:mt-0" data-v-a158718a><a href="https://github.com/" title="Star" target="_blank" class="hidden lg:inline-block" data-v-a158718a>Github</a></div></div></div><div class="slide-enter m-auto mb-8 animate-delay-500 prose print:hidden" data-v-a158718a><br data-v-a158718a><span font-mono op50 data-v-a158718a>&gt; </span><a href="/Harry969.github.io/blog" class="font-mono op50 hover:op75" data-v-a158718a>cd ..</a><div class="py-4" data-v-a158718a></div><div data-v-a158718a></div></div><div class="top-btn opacity-0" data-v-a158718a data-v-e3571aee><div class="back-to-top-btn" data-v-e3571aee><svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32" data-v-e3571aee=""><g fill="none" data-v-e3571aee=""><g filter="url(#f2377id0)" data-v-e3571aee=""><path fill="url(#f2377id2)" d="m7.545 10.19l7.57-8.13a.992.992 0 0 1 1.43-.01l7.57 8.13c.56.597.12 1.564-.71 1.564h-3.64c-.35 0-.64.284-.64.626v5.194c0 .645-.53 1.163-1.19 1.163h-4.22c-.65 0-1.19-.518-1.18-1.153v-5.195a.637.637 0 0 0-.64-.625h-3.64c-.83 0-1.27-.958-.71-1.563" data-v-e3571aee=""/></g><g fill="#59555F" filter="url(#f2377id1)" data-v-e3571aee=""><path d="M12.27 20.569H5.83c-.55 0-1 .45-1 1s.45 1 1 1h2.22v6.17c0 .55.45 1 1 1s1-.45 1-1v-6.17h2.22c.55 0 1-.45 1-1c0-.56-.45-1-1-1m9.39.01h2.77c1.51 0 2.74 1.23 2.74 2.74c0 1.51-1.23 2.74-2.74 2.74h-1.77v2.69c0 .55-.45 1-1 1s-1-.45-1-1v-7.17c0-.55.45-1 1-1m1 3.48h1.77c.41 0 .74-.33.74-.74s-.33-.74-.74-.74h-1.77zm-9.39 2.55c0 1.73 1.41 3.14 3.15 3.14c1.73 0 3.15-1.41 3.15-3.14v-2.88c0-1.73-1.41-3.14-3.15-3.14s-3.15 1.41-3.15 3.14zm2-2.88a1.15 1.15 0 0 1 2.3 0v2.88c0 .64-.52 1.15-1.15 1.15c-.63 0-1.15-.52-1.15-1.15z" data-v-e3571aee=""/></g><defs data-v-e3571aee=""><filter id="f2377id0" width="18.571" height="18.976" x="6.794" y=".751" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse" data-v-e3571aee=""><feFlood flood-opacity="0" result="BackgroundImageFix" data-v-e3571aee=""/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx="-.5" dy=".5" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".375" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.505882 0 0 0 0 0.47451 0 0 0 0 0.537255 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="shape" result="effect1_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dy="-1" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".5" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.152941 0 0 0 0 0.12549 0 0 0 0 0.188235 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect1_innerShadow_18590_958" result="effect2_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx="1" dy="-1" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".5" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.152941 0 0 0 0 0.12549 0 0 0 0 0.188235 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect2_innerShadow_18590_958" result="effect3_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx="1" dy="1" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".5" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.239216 0 0 0 0 0.192157 0 0 0 0 0.290196 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect3_innerShadow_18590_958" result="effect4_innerShadow_18590_958" data-v-e3571aee=""/></filter><filter id="f2377id1" width="23.19" height="9.83" x="4.63" y="19.919" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse" data-v-e3571aee=""><feFlood flood-opacity="0" result="BackgroundImageFix" data-v-e3571aee=""/><feBlend in="SourceGraphic" in2="BackgroundImageFix" result="shape" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dy="-.65" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".325" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.176471 0 0 0 0 0.141176 0 0 0 0 0.211765 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="shape" result="effect1_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx=".65" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".325" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.176471 0 0 0 0 0.141176 0 0 0 0 0.211765 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect1_innerShadow_18590_958" result="effect2_innerShadow_18590_958" data-v-e3571aee=""/><feColorMatrix in="SourceAlpha" result="hardAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" data-v-e3571aee=""/><feOffset dx="-.2" data-v-e3571aee=""/><feGaussianBlur stdDeviation=".25" data-v-e3571aee=""/><feComposite in2="hardAlpha" k2="-1" k3="1" operator="arithmetic" data-v-e3571aee=""/><feColorMatrix values="0 0 0 0 0.176471 0 0 0 0 0.141176 0 0 0 0 0.211765 0 0 0 1 0" data-v-e3571aee=""/><feBlend in2="effect2_innerShadow_18590_958" result="effect3_innerShadow_18590_958" data-v-e3571aee=""/></filter><linearGradient id="f2377id2" x1="15.83" x2="15.83" y1="5.028" y2="18.727" gradientUnits="userSpaceOnUse" data-v-e3571aee=""><stop stop-color="#61576D" data-v-e3571aee=""/><stop offset="1" stop-color="#4D4753" data-v-e3571aee=""/></linearGradient></defs></g></svg></div><div class="button-glowing" data-v-e3571aee></div></div></main><!----><!----></main></div><script>window.__INITIAL_STATE__='{"pinia":{}}'</script><noscript>This website requires JavaScript to function properly. Please enable JavaScript to continue.</noscript><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></body></html>